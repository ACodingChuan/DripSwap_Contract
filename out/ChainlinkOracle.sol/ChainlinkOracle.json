{"abi":[{"type":"constructor","inputs":[{"name":"initialOwner","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"acceptOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getUSDPrice","inputs":[{"name":"token","type":"address","internalType":"address"}],"outputs":[{"name":"pxE18","type":"uint256","internalType":"uint256"},{"name":"updatedAt","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"latestAnswer","inputs":[{"name":"base","type":"address","internalType":"address"},{"name":"quote","type":"address","internalType":"address"}],"outputs":[{"name":"priceE18","type":"uint256","internalType":"uint256"},{"name":"updatedAt","type":"uint256","internalType":"uint256"},{"name":"src","type":"uint8","internalType":"enum IOracleRouter.PriceSrc"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pendingOwner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"renounceOwnership","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setUSDFeed","inputs":[{"name":"token","type":"address","internalType":"address"},{"name":"cfg","type":"tuple","internalType":"struct ChainlinkOracle.FeedUSD","components":[{"name":"aggregator","type":"address","internalType":"address"},{"name":"aggDecimals","type":"uint8","internalType":"uint8"},{"name":"fixedUSDE18","type":"uint88","internalType":"uint88"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"transferOwnership","inputs":[{"name":"newOwner","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"usdFeeds","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"aggregator","type":"address","internalType":"address"},{"name":"aggDecimals","type":"uint8","internalType":"uint8"},{"name":"fixedUSDE18","type":"uint88","internalType":"uint88"}],"stateMutability":"view"},{"type":"event","name":"OwnershipTransferStarted","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"USDFeedUpdated","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"address"},{"name":"aggregator","type":"address","indexed":true,"internalType":"address"},{"name":"aggDecimals","type":"uint8","indexed":false,"internalType":"uint8"},{"name":"fixedUSDE18","type":"uint88","indexed":false,"internalType":"uint88"}],"anonymous":false},{"type":"error","name":"OracleBadAnswer","inputs":[{"name":"aggregator","type":"address","internalType":"address"}]},{"type":"error","name":"OracleQuoteZero","inputs":[{"name":"quote","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableInvalidOwner","inputs":[{"name":"owner","type":"address","internalType":"address"}]},{"type":"error","name":"OwnableUnauthorizedAccount","inputs":[{"name":"account","type":"address","internalType":"address"}]}],"bytecode":{"object":"0x60803460c157601f610aa438819003918201601f19168301916001600160401b0383118484101760c55780849260209460405283398101031260c157516001600160a01b0381169081900360c157801560ae57600180546001600160a01b03199081169091555f80549182168317815560405192916001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a36109ca90816100da8239f35b631e4fbdf760e01b5f525f60045260245ffd5b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe6080806040526004361015610012575f80fd5b5f3560e01c90816314e4e525146105c8575080634dab692214610476578063715018a6146103f557806379ba50971461033b5780638b2f0f4f1461030c5780638da5cb5b146102e7578063d4c282a314610123578063e30c3978146100fd5763f2fde38b1461007f575f80fd5b346100f95760206003193601126100f9576001600160a01b036100a061061b565b6100a8610981565b168073ffffffffffffffffffffffffffffffffffffffff1960015416176001556001600160a01b035f54167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e227005f80a3005b5f80fd5b346100f9575f6003193601126100f95760206001600160a01b0360015416604051908152f35b346100f95760406003193601126100f95761013c61061b565b602435906001600160a01b0382168083036100f9576101669061015e83610728565b929094610728565b9481156102bb57670de0b6b3a7640000810290808204670de0b6b3a764000014901517156102a7576001600160a01b03916101a09161070a565b93165f52600260205260405f2090604051916101bb83610671565b546001600160a01b038116835260ff8160a01c16602084015260a81c60408301525f5260026020526001600160a01b0360405f2091604051926101fd84610671565b549260408385169485835260ff8160a01c16602084015260a81c91015251161590159080806102a0575b15610268575050509050600190425b60405191825260208201526002821015610254576060916040820152f35b634e487b7160e01b5f52602160045260245ffd5b15610277575050600191610236565b909290156102885750600191610236565b5f9290808210156102995750610236565b9050610236565b5081610227565b634e487b7160e01b5f52601160045260245ffd5b827f4d27606c000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b346100f9575f6003193601126100f95760206001600160a01b035f5416604051908152f35b346100f95760206003193601126100f957604061032f61032a61061b565b610728565b82519182526020820152f35b346100f9575f6003193601126100f957336001600160a01b0360015416036103c95773ffffffffffffffffffffffffffffffffffffffff19600154166001555f543373ffffffffffffffffffffffffffffffffffffffff198216175f556001600160a01b033391167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e05f80a3005b7f118cdaa7000000000000000000000000000000000000000000000000000000005f523360045260245ffd5b346100f9575f6003193601126100f95761040d610981565b73ffffffffffffffffffffffffffffffffffffffff19600154166001555f6001600160a01b03815473ffffffffffffffffffffffffffffffffffffffff1981168355167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a3005b346100f95760806003193601126100f95761048f61061b565b60607fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdc3601126100f9576001600160a01b03906104ca610981565b16805f52600260205260405f206001600160a01b036104e7610631565b1673ffffffffffffffffffffffffffffffffffffffff1982541617815561050c610647565b81546001600160a01b0374ff00000000000000000000000000000000000000007fffffffffffffffffffffff000000000000000000000000000000000000000000610555610657565b60a81b169360a01b1691161717905561056c610631565b907f151bf507c6e7ba739675ba2dec86516f0513d19e1a3e2f4f8b2f0597efe51cae60406001600160a01b036105a0610647565b946affffffffffffffffffffff6105b5610657565b60ff8551981688521660208701521693a3005b346100f95760206003193601126100f9576060906001600160a01b036105ec61061b565b165f52600260205260405f20546001600160a01b038116825260ff8160a01c16602083015260a81c6040820152f35b600435906001600160a01b03821682036100f957565b6024356001600160a01b03811681036100f95790565b60443560ff811681036100f95790565b6064356affffffffffffffffffffff811681036100f95790565b6060810190811067ffffffffffffffff82111761068d57604052565b634e487b7160e01b5f52604160045260245ffd5b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761068d57604052565b519069ffffffffffffffffffff821682036100f957565b60ff16604d81116102a757600a0a90565b8115610714570490565b634e487b7160e01b5f52601260045260245ffd5b6001600160a01b03165f52600260205260405f20906040519161074a83610671565b54916001600160a01b038316808252602082019360ff8160a01c16855260a81c806040840152811561097857509060a0600492604051938480927ffeaf968c0000000000000000000000000000000000000000000000000000000082525afa9384156108d8575f925f95610922575b505f8313156108ec575160ff16806108e3575060206001600160a01b036004925116604051928380927f313ce5670000000000000000000000000000000000000000000000000000000082525afa80156108d8575f9061089b575b60ff91505b16601281101561084c5760120360ff81116102a757610837906106f9565b908181029181830414901517156102a7579190565b6012811115610896577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffee019060ff82116102a75761088c610892926106f9565b9061070a565b9190565b509190565b506020813d6020116108d0575b816108b5602093836106a1565b810103126100f9575160ff811681036100f95760ff90610814565b3d91506108a8565b6040513d5f823e3d90fd5b60ff9150610819565b6001600160a01b038251167f18f1571c000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b9250935060a0823d60a011610970575b8161093f60a093836106a1565b810103126100f957610950826106e2565b5060208201516109676080606085015194016106e2565b5091935f6107b9565b3d9150610932565b93504292915050565b6001600160a01b035f541633036103c95756fea2646970667358221220ef03b2578288ea80cc21e9cb4aac43c007fac6d9ea449a58e5f524f4284792c064736f6c634300081e0033","sourceMap":"1377:4625:34:-:0;;;;;;;;;;;;;-1:-1:-1;;1377:4625:34;;;;-1:-1:-1;;;;;1377:4625:34;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1377:4625:34;;;;;;;;1273:26:2;;1269:95;;1377:4625:34;;;-1:-1:-1;;;;;;1377:4625:34;;;;;;-1:-1:-1;1377:4625:34;;;;;;;;;;;;;-1:-1:-1;;;;;1377:4625:34;;3052:40:2;;-1:-1:-1;3052:40:2;1377:4625:34;;;;;;;1269:95:2;1322:31;;;-1:-1:-1;1322:31:2;-1:-1:-1;1322:31:2;1377:4625:34;;-1:-1:-1;1322:31:2;1377:4625:34;-1:-1:-1;1377:4625:34;;;;;;-1:-1:-1;1377:4625:34;;;;;-1:-1:-1;1377:4625:34","linkReferences":{}},"deployedBytecode":{"object":"0x6080806040526004361015610012575f80fd5b5f3560e01c90816314e4e525146105c8575080634dab692214610476578063715018a6146103f557806379ba50971461033b5780638b2f0f4f1461030c5780638da5cb5b146102e7578063d4c282a314610123578063e30c3978146100fd5763f2fde38b1461007f575f80fd5b346100f95760206003193601126100f9576001600160a01b036100a061061b565b6100a8610981565b168073ffffffffffffffffffffffffffffffffffffffff1960015416176001556001600160a01b035f54167f38d16b8cac22d99fc7c124b9cd0de2d3fa1faef420bfe791d8c362d765e227005f80a3005b5f80fd5b346100f9575f6003193601126100f95760206001600160a01b0360015416604051908152f35b346100f95760406003193601126100f95761013c61061b565b602435906001600160a01b0382168083036100f9576101669061015e83610728565b929094610728565b9481156102bb57670de0b6b3a7640000810290808204670de0b6b3a764000014901517156102a7576001600160a01b03916101a09161070a565b93165f52600260205260405f2090604051916101bb83610671565b546001600160a01b038116835260ff8160a01c16602084015260a81c60408301525f5260026020526001600160a01b0360405f2091604051926101fd84610671565b549260408385169485835260ff8160a01c16602084015260a81c91015251161590159080806102a0575b15610268575050509050600190425b60405191825260208201526002821015610254576060916040820152f35b634e487b7160e01b5f52602160045260245ffd5b15610277575050600191610236565b909290156102885750600191610236565b5f9290808210156102995750610236565b9050610236565b5081610227565b634e487b7160e01b5f52601160045260245ffd5b827f4d27606c000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b346100f9575f6003193601126100f95760206001600160a01b035f5416604051908152f35b346100f95760206003193601126100f957604061032f61032a61061b565b610728565b82519182526020820152f35b346100f9575f6003193601126100f957336001600160a01b0360015416036103c95773ffffffffffffffffffffffffffffffffffffffff19600154166001555f543373ffffffffffffffffffffffffffffffffffffffff198216175f556001600160a01b033391167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e05f80a3005b7f118cdaa7000000000000000000000000000000000000000000000000000000005f523360045260245ffd5b346100f9575f6003193601126100f95761040d610981565b73ffffffffffffffffffffffffffffffffffffffff19600154166001555f6001600160a01b03815473ffffffffffffffffffffffffffffffffffffffff1981168355167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a3005b346100f95760806003193601126100f95761048f61061b565b60607fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdc3601126100f9576001600160a01b03906104ca610981565b16805f52600260205260405f206001600160a01b036104e7610631565b1673ffffffffffffffffffffffffffffffffffffffff1982541617815561050c610647565b81546001600160a01b0374ff00000000000000000000000000000000000000007fffffffffffffffffffffff000000000000000000000000000000000000000000610555610657565b60a81b169360a01b1691161717905561056c610631565b907f151bf507c6e7ba739675ba2dec86516f0513d19e1a3e2f4f8b2f0597efe51cae60406001600160a01b036105a0610647565b946affffffffffffffffffffff6105b5610657565b60ff8551981688521660208701521693a3005b346100f95760206003193601126100f9576060906001600160a01b036105ec61061b565b165f52600260205260405f20546001600160a01b038116825260ff8160a01c16602083015260a81c6040820152f35b600435906001600160a01b03821682036100f957565b6024356001600160a01b03811681036100f95790565b60443560ff811681036100f95790565b6064356affffffffffffffffffffff811681036100f95790565b6060810190811067ffffffffffffffff82111761068d57604052565b634e487b7160e01b5f52604160045260245ffd5b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761068d57604052565b519069ffffffffffffffffffff821682036100f957565b60ff16604d81116102a757600a0a90565b8115610714570490565b634e487b7160e01b5f52601260045260245ffd5b6001600160a01b03165f52600260205260405f20906040519161074a83610671565b54916001600160a01b038316808252602082019360ff8160a01c16855260a81c806040840152811561097857509060a0600492604051938480927ffeaf968c0000000000000000000000000000000000000000000000000000000082525afa9384156108d8575f925f95610922575b505f8313156108ec575160ff16806108e3575060206001600160a01b036004925116604051928380927f313ce5670000000000000000000000000000000000000000000000000000000082525afa80156108d8575f9061089b575b60ff91505b16601281101561084c5760120360ff81116102a757610837906106f9565b908181029181830414901517156102a7579190565b6012811115610896577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffee019060ff82116102a75761088c610892926106f9565b9061070a565b9190565b509190565b506020813d6020116108d0575b816108b5602093836106a1565b810103126100f9575160ff811681036100f95760ff90610814565b3d91506108a8565b6040513d5f823e3d90fd5b60ff9150610819565b6001600160a01b038251167f18f1571c000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b9250935060a0823d60a011610970575b8161093f60a093836106a1565b810103126100f957610950826106e2565b5060208201516109676080606085015194016106e2565b5091935f6107b9565b3d9150610932565b93504292915050565b6001600160a01b035f541633036103c95756fea2646970667358221220ef03b2578288ea80cc21e9cb4aac43c007fac6d9ea449a58e5f524f4284792c064736f6c634300081e0033","sourceMap":"1377:4625:34:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;1377:4625:34;;;;;-1:-1:-1;;;;;1377:4625:34;;:::i;:::-;1500:62:2;;:::i;:::-;1377:4625:34;;-1:-1:-1;;1738:24:3;1377:4625:34;;;1738:24:3;1377:4625:34;-1:-1:-1;;;;;1377:4625:34;;;1777:43:3;1377:4625:34;1777:43:3;;1377:4625:34;;;;;;;;;;-1:-1:-1;;1377:4625:34;;;;;;-1:-1:-1;;;;;1311:13:3;1377:4625:34;;;;;;;;;;;;;-1:-1:-1;;1377:4625:34;;;;;;;:::i;:::-;;;;-1:-1:-1;;;;;1377:4625:34;;;;;;;5056:18;1377:4625;5000:17;;;:::i;:::-;5056:18;;;;:::i;:::-;5140:8;;;5136:43;;5207:4;1377:4625;;;;;;5207:4;1377:4625;;;;;;;-1:-1:-1;;;;;5200:18:34;;;;:::i;:::-;1377:4625;;;;5322:8;1377:4625;;;;;;;;;;;;:::i;:::-;;-1:-1:-1;;;;;1377:4625:34;;;;;;;;;;;;;;;;;;;;;5322:8;1377:4625;;-1:-1:-1;;;;;1377:4625:34;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;5406:27;5459;;5502:16;;;;;1377:4625;5498:496;;;5534:20;;;;;5540:14;5580:15;;5498:496;1377:4625;;;;;;;;;5322:8;1377:4625;;;;;;;;;;;;;-1:-1:-1;;;1377:4625:34;;;;;;;;5498:496;5669:325;;;5695:20;;5701:14;5729:15;5498:496;;5669:325;5806:188;;;;;;5832:20;5838:14;5866:15;5498:496;;5806:188;1377:4625;;5912:23;5961:9;;;;;;:21;5498:496;;5961:21;;;5498:496;;5502:16;;;;;1377:4625;-1:-1:-1;;;1377:4625:34;;;;;;;;5136:43;5157:22;;1377:4625;5157:22;1377:4625;;;;5157:22;1377:4625;;;;;-1:-1:-1;;1377:4625:34;;;;;;-1:-1:-1;;;;;1377:4625:34;;;;;;;;;;;;;;-1:-1:-1;;1377:4625:34;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;;;;;;;;;;-1:-1:-1;;1377:4625:34;;;;;735:10:13;-1:-1:-1;;;;;1311:13:3;1377:4625:34;;2339:24:3;2335:96;;-1:-1:-1;;1311:13:3;1377:4625:34;;1311:13:3;1377:4625:34;;;735:10:13;-1:-1:-1;;1377:4625:34;;;;;-1:-1:-1;;;;;735:10:13;1377:4625:34;;3052:40:2;1377:4625:34;3052:40:2;;1377:4625:34;2335:96:3;2386:34;1377:4625:34;2386:34:3;735:10:13;1377:4625:34;;;;2386:34:3;1377:4625:34;;;;;-1:-1:-1;;1377:4625:34;;;;;1500:62:2;;:::i;:::-;-1:-1:-1;;2093:20:3;1377:4625:34;;2093:20:3;1377:4625:34;;-1:-1:-1;;;;;1377:4625:34;;-1:-1:-1;;1377:4625:34;;;;;3052:40:2;;;;1377:4625:34;;;;;;-1:-1:-1;;1377:4625:34;;;;;;;:::i;:::-;;;;;;;;-1:-1:-1;;;;;1500:62:2;;;:::i;:::-;1377:4625:34;;;;3246:8;1377:4625;;;;;-1:-1:-1;;;;;1377:4625:34;;:::i;:::-;;-1:-1:-1;;1377:4625:34;;;;;;;;:::i;:::-;;;-1:-1:-1;;;;;1377:4625:34;;;;:::i;:::-;;;;;;;;;;;;;;3304:14;;:::i;:::-;3320:15;3282:71;1377:4625;-1:-1:-1;;;;;3320:15:34;;:::i;:::-;3337;1377:4625;3337:15;;:::i;:::-;1377:4625;;;;;;;;;;;;;3282:71;;1377:4625;;;;;;-1:-1:-1;;1377:4625:34;;;;;;;-1:-1:-1;;;;;1377:4625:34;;:::i;:::-;;;;2466:43;1377:4625;;;;;;-1:-1:-1;;;;;1377:4625:34;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;1377:4625:34;;;;;;:::o;:::-;;;-1:-1:-1;;;;;1377:4625:34;;;;;;;:::o;:::-;;;;;;;;;;;:::o;:::-;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::o;:::-;-1:-1:-1;;;;1377:4625:34;;;;;-1:-1:-1;1377:4625:34;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;:::o;:::-;;;;;;;;;;;:::o;:::-;;;;;;;:::o;:::-;-1:-1:-1;;;1377:4625:34;;;;;;;;3463:1250;-1:-1:-1;;;;;1377:4625:34;-1:-1:-1;1377:4625:34;3628:8;1377:4625;;;-1:-1:-1;1377:4625:34;;;;;;;;:::i;:::-;;;-1:-1:-1;;;;;1377:4625:34;;;;;;;;;;;;;;;;;;;;;;;3732:26;;3728:281;;1377:4625;;;4127:53;1377:4625;;;4127:53;;;;1377:4625;4127:53;;;;;;;;;-1:-1:-1;;;4127:53:34;;;3463:1250;4194:8;-1:-1:-1;4194:8:34;;;4190:50;;1377:4625;;;4438:18;1377:4625;;;;-1:-1:-1;;;;;4127:53:34;1377:4625;;;;;4459:46;;;;1377:4625;4459:46;;;;;;;;-1:-1:-1;4459:46:34;;;4438:83;1377:4625;4438:83;;;1377:4625;4574:2;4570:6;;4574:2;;;;1377:4625;;;;;;4590:14;;;:::i;:::-;4586:18;1377:4625;;;;;;;;;;;;;;4566:115;3463:1250;:::o;4566:115::-;4574:2;4623:6;;4574:2;;;1377:4625;;;;;;;;4643:14;4639:18;4643:14;;:::i;:::-;4639:18;;:::i;:::-;4619:62;3463:1250;:::o;4619:62::-;4672:9;4619:62;3463:1250;:::o;4459:46::-;;1377:4625;4459:46;;1377:4625;4459:46;;;;;;1377:4625;4459:46;;;:::i;:::-;;;1377:4625;;;;;;;;;;;;;4459:46;;;;;;-1:-1:-1;4459:46:34;;;1377:4625;;;-1:-1:-1;1377:4625:34;;;;;4438:83;1377:4625;4438:83;;;;4190:50;-1:-1:-1;;;;;1377:4625:34;;;4211:29;-1:-1:-1;4211:29:34;4127:53;1377:4625;;-1:-1:-1;4211:29:34;4127:53;;;;;1377:4625;4127:53;;1377:4625;4127:53;;;;;;1377:4625;4127:53;;;:::i;:::-;;;1377:4625;;;;;;;:::i;:::-;;;;;;;;;;;;;;;:::i;:::-;;4127:53;;;;;;;;-1:-1:-1;4127:53:34;;3728:281;3950:48;-1:-1:-1;3982:15:34;;3950:48;-1:-1:-1;;3950:48:34:o;1796:162:2:-;-1:-1:-1;;;;;1710:6:2;1377:4625:34;;735:10:13;1855:23:2;1851:101;;1796:162::o","linkReferences":{}},"methodIdentifiers":{"acceptOwnership()":"79ba5097","getUSDPrice(address)":"8b2f0f4f","latestAnswer(address,address)":"d4c282a3","owner()":"8da5cb5b","pendingOwner()":"e30c3978","renounceOwnership()":"715018a6","setUSDFeed(address,(address,uint8,uint88))":"4dab6922","transferOwnership(address)":"f2fde38b","usdFeeds(address)":"14e4e525"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"initialOwner\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"aggregator\",\"type\":\"address\"}],\"name\":\"OracleBadAnswer\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"quote\",\"type\":\"address\"}],\"name\":\"OracleQuoteZero\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"OwnableInvalidOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"OwnableUnauthorizedAccount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferStarted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"aggregator\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"aggDecimals\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"uint88\",\"name\":\"fixedUSDE18\",\"type\":\"uint88\"}],\"name\":\"USDFeedUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"acceptOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"getUSDPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"pxE18\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updatedAt\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"base\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"quote\",\"type\":\"address\"}],\"name\":\"latestAnswer\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"priceE18\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"updatedAt\",\"type\":\"uint256\"},{\"internalType\":\"enum IOracleRouter.PriceSrc\",\"name\":\"src\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pendingOwner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"token\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"aggregator\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"aggDecimals\",\"type\":\"uint8\"},{\"internalType\":\"uint88\",\"name\":\"fixedUSDE18\",\"type\":\"uint88\"}],\"internalType\":\"struct ChainlinkOracle.FeedUSD\",\"name\":\"cfg\",\"type\":\"tuple\"}],\"name\":\"setUSDFeed\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"usdFeeds\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"aggregator\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"aggDecimals\",\"type\":\"uint8\"},{\"internalType\":\"uint88\",\"name\":\"fixedUSDE18\",\"type\":\"uint88\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Gas\\u4f18\\u5316\\uff1a         - FeedUSD \\u5355\\u69fd\\u5e03\\u5c40\\uff08address + uint8 + uint88\\uff09\\uff0c\\u521d\\u59cb\\u5316/\\u914d\\u7f6e SSTORE \\u5f00\\u9500\\u663e\\u8457\\u964d\\u4f4e\\uff1b         - \\u91c7\\u7528\\u81ea\\u5b9a\\u4e49\\u9519\\u8bef\\uff0c\\u51cf\\u5c11\\u8fd0\\u884c\\u65f6\\u4ee3\\u7801\\uff1b         - `aggDecimals` \\u4f5c\\u4e3a\\u53ef\\u9009\\u7f13\\u5b58\\uff1a\\u975e 0 \\u5219\\u4f7f\\u7528\\uff1b\\u4e3a 0 \\u65f6\\u56de\\u9000\\u94fe\\u4e0a `decimals()`\\uff08view\\uff0c\\u4e0d\\u4e0a\\u94fe\\uff09\\u3002\",\"errors\":{\"OwnableInvalidOwner(address)\":[{\"details\":\"The owner is not a valid owner account. (eg. `address(0)`)\"}],\"OwnableUnauthorizedAccount(address)\":[{\"details\":\"The caller account is not authorized to perform an operation.\"}]},\"kind\":\"dev\",\"methods\":{\"acceptOwnership()\":{\"details\":\"The new owner accepts the ownership transfer.\"},\"getUSDPrice(address)\":{\"details\":\"\\u4e3a\\u4fdd\\u6301\\u63a5\\u53e3\\u7b80\\u6d01\\uff0c\\u8fd9\\u91cc\\u4e0d\\u8fd4\\u56de src\\uff1bGuard \\u4e00\\u822c\\u4f7f\\u7528 latestAnswer()\",\"params\":{\"token\":\"\\u8d44\\u4ea7\\u5730\\u5740\"},\"returns\":{\"pxE18\":\" \\u4ef7\\u683c(1e18)\\uff0c\\u542b\\u4e49\\uff1a1 token = priceE18 / 1e18 USD\",\"updatedAt\":\"\\u94fe\\u4e0a\\u66f4\\u65b0\\u65f6\\u95f4\\uff08Fixed \\u573a\\u666f\\u8fd4\\u56de\\u5f53\\u524d\\u5757\\u65f6\\u95f4\\uff09\"}},\"latestAnswer(address,address)\":{\"params\":{\"base\":\"\\u8ba1\\u4ef7\\u57fa\\u51c6\\uff08\\u5206\\u5b50\\uff09\",\"quote\":\"\\u8ba1\\u4ef7\\u6807\\u7684\\uff08\\u5206\\u6bcd\\uff09\"},\"returns\":{\"priceE18\":\" \\u4ef7\\u683c(1e18)\\uff0c\\u542b\\u4e49\\uff1a1 base = priceE18 / 1e18 \\u4e2a quote\",\"src\":\"      \\u4ef7\\u6e90\\u7c7b\\u578b\\uff08UsdSplit / Fixed\\uff09\",\"updatedAt\":\"\\u8be5\\u4ef7\\u683c\\u7684 on-chain \\u66f4\\u65b0\\u65f6\\u95f4\\uff08\\u4e24\\u4fa7USD\\u4ef7\\u7684\\u6700\\u5c0f\\u503c\\uff1b\\u53ccFixed\\u65f6\\u7ed9\\u5f53\\u524d\\u5757\\u65f6\\u95f4\\uff09\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"pendingOwner()\":{\"details\":\"Returns the address of the pending owner.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.\"},\"setUSDFeed(address,(address,uint8,uint88))\":{\"details\":\"- aggregator=0 \\u8868\\u793a\\u201c\\u65e0Feed\\u201d\\uff0c\\u6b64\\u65f6\\u4f7f\\u7528 fixedUSDE18 \\u4f5c\\u4e3a\\u56fa\\u5b9a\\u951a\\u4ef7\\uff1b         - \\u5efa\\u8bae\\uff1a\\u7a33\\u5b9a\\u5e01\\u5728\\u6d4b\\u8bd5\\u7f51\\u53ef\\u914d fixed=1e18\\uff1b\\u4e3b\\u7f51\\u4e0a\\u5c3d\\u91cf\\u4f7f\\u7528\\u771f\\u5b9e\\u5582\\u4ef7\\uff1b         - \\u672c\\u51fd\\u6570\\u4e00\\u6b21\\u53ea\\u5199 1 \\u69fd\\uff08\\u5355\\u69fd\\u7ed3\\u6784\\uff09\\uff0c\\u521d\\u59cb\\u5316\\u66f4\\u7701 gas\\u3002\"},\"transferOwnership(address)\":{\"details\":\"Starts the ownership transfer of the contract to a new account. Replaces the pending transfer if there is one. Can only be called by the current owner. Setting `newOwner` to the zero address is allowed; this can be used to cancel an initiated ownership transfer.\"}},\"stateVariables\":{\"usdFeeds\":{\"details\":\"token => USD \\u4ef7\\u6e90\\u6620\\u5c04\\uff08\\u6bcf\\u4e2a\\u6761\\u76ee\\u4ec5 1 \\u4e2a\\u5b58\\u50a8\\u69fd\\uff09\"}},\"title\":\"ChainlinkOracle\",\"version\":1},\"userdoc\":{\"events\":{\"USDFeedUpdated(address,address,uint8,uint88)\":{\"notice\":\"\\u5f53\\u67d0\\u4e2a token \\u7684 USD \\u4ef7\\u6e90\\u88ab\\u8bbe\\u7f6e/\\u66f4\\u65b0\\u65f6\\u89e6\\u53d1\\uff08\\u8fd0\\u7ef4\\u53ef\\u89c2\\u6d4b\\uff09\"}},\"kind\":\"user\",\"methods\":{\"getUSDPrice(address)\":{\"notice\":\"\\u67e5\\u8be2 token \\u7684 USD \\u4ef7\\u683c\\uff081e18\\uff09\\u4e0e\\u66f4\\u65b0\\u65f6\\u95f4\"},\"latestAnswer(address,address)\":{\"notice\":\"\\u67e5\\u8be2 base/quote \\u7684\\u516c\\u5141\\u4ef7\\uff081e18\\uff09\\u4e0e\\u66f4\\u65b0\\u65f6\\u95f4\\u4e0e\\u4ef7\\u6e90\\u7c7b\\u578b\"},\"setUSDFeed(address,(address,uint8,uint88))\":{\"notice\":\"\\u8bbe\\u7f6e/\\u66f4\\u65b0\\u67d0 token \\u7684 USD \\u4ef7\\u6e90\"}},\"notice\":\"IOracleRouter \\u7684\\u5b9e\\u73b0\\uff1a         - \\u4ee5\\u201ctoken\\u2192USD\\u201d\\u4e3a\\u57fa\\u51c6\\uff1b\\u65e0\\u76f4\\u8fde base/quote \\u65f6\\u7528 USD \\u62c6\\u5206\\uff08base/USD \\u00f7 quote/USD\\uff09\\uff1b         - \\u65e0\\u5582\\u4ef7\\u5141\\u8bb8\\u914d\\u7f6e\\u56fa\\u5b9a\\u951a\\u4ef7\\uff08Fixed\\uff09\\uff0c\\u5e38\\u7528\\u4e8e\\u6d4b\\u8bd5\\u7f51\\uff1b         - \\u7edf\\u4e00\\u8f93\\u51fa 1e18 \\u7cbe\\u5ea6\\uff1bstale \\u5224\\u5b9a\\u4ea4\\u7531 Guard\\uff08\\u5168\\u5c40/\\u6309 pair \\u9608\\u503c\\uff09\\u5904\\u7406\\u3002\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/oracle/ChainlinkOracle.sol\":\"ChainlinkOracle\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":2000},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":@uniswap/v2-core/=lib/v2-core/\",\":@uniswap/v2-periphery/=lib/v2-periphery/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":v2-core/=lib/v2-core/contracts/\",\":v2-periphery/=lib/v2-periphery/contracts/\"],\"viaIR\":true},\"sources\":{\"lib/openzeppelin-contracts/contracts/access/Ownable.sol\":{\"keccak256\":\"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6\",\"dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a\"]},\"lib/openzeppelin-contracts/contracts/access/Ownable2Step.sol\":{\"keccak256\":\"0xdcad8898fda432696597752e8ec361b87d85c82cb258115427af006dacf7128c\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e2c9d517f0c136d54bd00cd57959d25681d4d6273f5bbbc263afe228303772f0\",\"dweb:/ipfs/QmReNFjXBiufByiAAzfSQ2SM5r3qeUErn46BmN3yVRvrek\"]},\"lib/openzeppelin-contracts/contracts/utils/Context.sol\":{\"keccak256\":\"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12\",\"dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF\"]},\"src/interfaces/IOracleRouter.sol\":{\"keccak256\":\"0x4e605f19318611d909ec2fc00c4c3b99d1aebabb0b2e652cca8bc6e0ae687a40\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://dcb9833e999b5c6e9c2f453370dc495144a2243c9b088e5da921bbe3ec81361d\",\"dweb:/ipfs/QmVQoee94NgaWiiGN8RZRRrTHgJsJSSk2zRFR2KFeoaiPY\"]},\"src/oracle/ChainlinkOracle.sol\":{\"keccak256\":\"0x6a21beead510badc799e5b801624899ebea99a17074f79ecfea17472ffe5f280\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://190cd31a23ce4617487a6aa833d6921daeef14454d75b96031d494433a020333\",\"dweb:/ipfs/QmdNtxZZz6VJ5mjhrdY1p8YT2BFrmxD59CMdnnLgKt7Wkt\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"initialOwner","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"aggregator","type":"address"}],"type":"error","name":"OracleBadAnswer"},{"inputs":[{"internalType":"address","name":"quote","type":"address"}],"type":"error","name":"OracleQuoteZero"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"type":"error","name":"OwnableInvalidOwner"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"type":"error","name":"OwnableUnauthorizedAccount"},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferStarted","anonymous":false},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false},{"inputs":[{"internalType":"address","name":"token","type":"address","indexed":true},{"internalType":"address","name":"aggregator","type":"address","indexed":true},{"internalType":"uint8","name":"aggDecimals","type":"uint8","indexed":false},{"internalType":"uint88","name":"fixedUSDE18","type":"uint88","indexed":false}],"type":"event","name":"USDFeedUpdated","anonymous":false},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"acceptOwnership"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"stateMutability":"view","type":"function","name":"getUSDPrice","outputs":[{"internalType":"uint256","name":"pxE18","type":"uint256"},{"internalType":"uint256","name":"updatedAt","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"base","type":"address"},{"internalType":"address","name":"quote","type":"address"}],"stateMutability":"view","type":"function","name":"latestAnswer","outputs":[{"internalType":"uint256","name":"priceE18","type":"uint256"},{"internalType":"uint256","name":"updatedAt","type":"uint256"},{"internalType":"enum IOracleRouter.PriceSrc","name":"src","type":"uint8"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"pendingOwner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"renounceOwnership"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"struct ChainlinkOracle.FeedUSD","name":"cfg","type":"tuple","components":[{"internalType":"address","name":"aggregator","type":"address"},{"internalType":"uint8","name":"aggDecimals","type":"uint8"},{"internalType":"uint88","name":"fixedUSDE18","type":"uint88"}]}],"stateMutability":"nonpayable","type":"function","name":"setUSDFeed"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"transferOwnership"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"usdFeeds","outputs":[{"internalType":"address","name":"aggregator","type":"address"},{"internalType":"uint8","name":"aggDecimals","type":"uint8"},{"internalType":"uint88","name":"fixedUSDE18","type":"uint88"}]}],"devdoc":{"kind":"dev","methods":{"acceptOwnership()":{"details":"The new owner accepts the ownership transfer."},"getUSDPrice(address)":{"details":"为保持接口简洁，这里不返回 src；Guard 一般使用 latestAnswer()","params":{"token":"资产地址"},"returns":{"pxE18":" 价格(1e18)，含义：1 token = priceE18 / 1e18 USD","updatedAt":"链上更新时间（Fixed 场景返回当前块时间）"}},"latestAnswer(address,address)":{"params":{"base":"计价基准（分子）","quote":"计价标的（分母）"},"returns":{"priceE18":" 价格(1e18)，含义：1 base = priceE18 / 1e18 个 quote","src":"      价源类型（UsdSplit / Fixed）","updatedAt":"该价格的 on-chain 更新时间（两侧USD价的最小值；双Fixed时给当前块时间）"}},"owner()":{"details":"Returns the address of the current owner."},"pendingOwner()":{"details":"Returns the address of the pending owner."},"renounceOwnership()":{"details":"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner."},"setUSDFeed(address,(address,uint8,uint88))":{"details":"- aggregator=0 表示“无Feed”，此时使用 fixedUSDE18 作为固定锚价；         - 建议：稳定币在测试网可配 fixed=1e18；主网上尽量使用真实喂价；         - 本函数一次只写 1 槽（单槽结构），初始化更省 gas。"},"transferOwnership(address)":{"details":"Starts the ownership transfer of the contract to a new account. Replaces the pending transfer if there is one. Can only be called by the current owner. Setting `newOwner` to the zero address is allowed; this can be used to cancel an initiated ownership transfer."}},"version":1},"userdoc":{"kind":"user","methods":{"getUSDPrice(address)":{"notice":"查询 token 的 USD 价格（1e18）与更新时间"},"latestAnswer(address,address)":{"notice":"查询 base/quote 的公允价（1e18）与更新时间与价源类型"},"setUSDFeed(address,(address,uint8,uint88))":{"notice":"设置/更新某 token 的 USD 价源"}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","@uniswap/v2-core/=lib/v2-core/","@uniswap/v2-periphery/=lib/v2-periphery/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","v2-core/=lib/v2-core/contracts/","v2-periphery/=lib/v2-periphery/contracts/"],"optimizer":{"enabled":true,"runs":2000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/oracle/ChainlinkOracle.sol":"ChainlinkOracle"},"evmVersion":"prague","libraries":{},"viaIR":true},"sources":{"lib/openzeppelin-contracts/contracts/access/Ownable.sol":{"keccak256":"0xff6d0bb2e285473e5311d9d3caacb525ae3538a80758c10649a4d61029b017bb","urls":["bzz-raw://8ed324d3920bb545059d66ab97d43e43ee85fd3bd52e03e401f020afb0b120f6","dweb:/ipfs/QmfEckWLmZkDDcoWrkEvMWhms66xwTLff9DDhegYpvHo1a"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/access/Ownable2Step.sol":{"keccak256":"0xdcad8898fda432696597752e8ec361b87d85c82cb258115427af006dacf7128c","urls":["bzz-raw://e2c9d517f0c136d54bd00cd57959d25681d4d6273f5bbbc263afe228303772f0","dweb:/ipfs/QmReNFjXBiufByiAAzfSQ2SM5r3qeUErn46BmN3yVRvrek"],"license":"MIT"},"lib/openzeppelin-contracts/contracts/utils/Context.sol":{"keccak256":"0x493033a8d1b176a037b2cc6a04dad01a5c157722049bbecf632ca876224dd4b2","urls":["bzz-raw://6a708e8a5bdb1011c2c381c9a5cfd8a9a956d7d0a9dc1bd8bcdaf52f76ef2f12","dweb:/ipfs/Qmax9WHBnVsZP46ZxEMNRQpLQnrdE4dK8LehML1Py8FowF"],"license":"MIT"},"src/interfaces/IOracleRouter.sol":{"keccak256":"0x4e605f19318611d909ec2fc00c4c3b99d1aebabb0b2e652cca8bc6e0ae687a40","urls":["bzz-raw://dcb9833e999b5c6e9c2f453370dc495144a2243c9b088e5da921bbe3ec81361d","dweb:/ipfs/QmVQoee94NgaWiiGN8RZRRrTHgJsJSSk2zRFR2KFeoaiPY"],"license":"MIT"},"src/oracle/ChainlinkOracle.sol":{"keccak256":"0x6a21beead510badc799e5b801624899ebea99a17074f79ecfea17472ffe5f280","urls":["bzz-raw://190cd31a23ce4617487a6aa833d6921daeef14454d75b96031d494433a020333","dweb:/ipfs/QmdNtxZZz6VJ5mjhrdY1p8YT2BFrmxD59CMdnnLgKt7Wkt"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"src/oracle/ChainlinkOracle.sol","id":11938,"exportedSymbols":{"AggregatorV3Interface":[11603],"ChainlinkOracle":[11937],"IOracleRouter":[11527],"Ownable":[527],"Ownable2Step":[613]},"nodeType":"SourceUnit","src":"32:5971:34","nodes":[{"id":11577,"nodeType":"PragmaDirective","src":"32:24:34","nodes":[],"literals":["solidity","^","0.8",".24"]},{"id":11579,"nodeType":"ImportDirective","src":"58:77:34","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/access/Ownable2Step.sol","file":"@openzeppelin/contracts/access/Ownable2Step.sol","nameLocation":"-1:-1:-1","scope":11938,"sourceUnit":614,"symbolAliases":[{"foreign":{"id":11578,"name":"Ownable2Step","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":613,"src":"66:12:34","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":11581,"nodeType":"ImportDirective","src":"136:67:34","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/access/Ownable.sol","file":"@openzeppelin/contracts/access/Ownable.sol","nameLocation":"-1:-1:-1","scope":11938,"sourceUnit":528,"symbolAliases":[{"foreign":{"id":11580,"name":"Ownable","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":527,"src":"144:7:34","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":11583,"nodeType":"ImportDirective","src":"204:63:34","nodes":[],"absolutePath":"src/interfaces/IOracleRouter.sol","file":"src/interfaces/IOracleRouter.sol","nameLocation":"-1:-1:-1","scope":11938,"sourceUnit":11528,"symbolAliases":[{"foreign":{"id":11582,"name":"IOracleRouter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11527,"src":"212:13:34","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":11603,"nodeType":"ContractDefinition","src":"348:332:34","nodes":[{"id":11597,"nodeType":"FunctionDefinition","src":"386:237:34","nodes":[],"functionSelector":"feaf968c","implemented":false,"kind":"function","modifiers":[],"name":"latestRoundData","nameLocation":"395:15:34","parameters":{"id":11585,"nodeType":"ParameterList","parameters":[],"src":"410:2:34"},"returnParameters":{"id":11596,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11587,"mutability":"mutable","name":"roundId","nameLocation":"480:7:34","nodeType":"VariableDeclaration","scope":11597,"src":"473:14:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint80","typeString":"uint80"},"typeName":{"id":11586,"name":"uint80","nodeType":"ElementaryTypeName","src":"473:6:34","typeDescriptions":{"typeIdentifier":"t_uint80","typeString":"uint80"}},"visibility":"internal"},{"constant":false,"id":11589,"mutability":"mutable","name":"answer","nameLocation":"508:6:34","nodeType":"VariableDeclaration","scope":11597,"src":"501:13:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":11588,"name":"int256","nodeType":"ElementaryTypeName","src":"501:6:34","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":11591,"mutability":"mutable","name":"startedAt","nameLocation":"536:9:34","nodeType":"VariableDeclaration","scope":11597,"src":"528:17:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11590,"name":"uint256","nodeType":"ElementaryTypeName","src":"528:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":11593,"mutability":"mutable","name":"updatedAt","nameLocation":"567:9:34","nodeType":"VariableDeclaration","scope":11597,"src":"559:17:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11592,"name":"uint256","nodeType":"ElementaryTypeName","src":"559:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":11595,"mutability":"mutable","name":"answeredInRound","nameLocation":"597:15:34","nodeType":"VariableDeclaration","scope":11597,"src":"590:22:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint80","typeString":"uint80"},"typeName":{"id":11594,"name":"uint80","nodeType":"ElementaryTypeName","src":"590:6:34","typeDescriptions":{"typeIdentifier":"t_uint80","typeString":"uint80"}},"visibility":"internal"}],"src":"459:163:34"},"scope":11603,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":11602,"nodeType":"FunctionDefinition","src":"628:50:34","nodes":[],"functionSelector":"313ce567","implemented":false,"kind":"function","modifiers":[],"name":"decimals","nameLocation":"637:8:34","parameters":{"id":11598,"nodeType":"ParameterList","parameters":[],"src":"645:2:34"},"returnParameters":{"id":11601,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11600,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":11602,"src":"671:5:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":11599,"name":"uint8","nodeType":"ElementaryTypeName","src":"671:5:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"src":"670:7:34"},"scope":11603,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"AggregatorV3Interface","contractDependencies":[],"contractKind":"interface","documentation":{"id":11584,"nodeType":"StructuredDocumentation","src":"269:79:34","text":"@dev 轻量化的 Chainlink AggregatorV3 接口（只取用到的函数）"},"fullyImplemented":false,"linearizedBaseContracts":[11603],"name":"AggregatorV3Interface","nameLocation":"358:21:34","scope":11938,"usedErrors":[],"usedEvents":[]},{"id":11937,"nodeType":"ContractDefinition","src":"1377:4625:34","nodes":[{"id":11617,"nodeType":"FunctionDefinition","src":"1440:58:34","nodes":[],"body":{"id":11616,"nodeType":"Block","src":"1496:2:34","nodes":[],"statements":[]},"implemented":true,"kind":"constructor","modifiers":[{"arguments":[{"id":11613,"name":"initialOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11610,"src":"1482:12:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"id":11614,"kind":"baseConstructorSpecifier","modifierName":{"id":11612,"name":"Ownable","nameLocations":["1474:7:34"],"nodeType":"IdentifierPath","referencedDeclaration":527,"src":"1474:7:34"},"nodeType":"ModifierInvocation","src":"1474:21:34"}],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":11611,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11610,"mutability":"mutable","name":"initialOwner","nameLocation":"1460:12:34","nodeType":"VariableDeclaration","scope":11617,"src":"1452:20:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11609,"name":"address","nodeType":"ElementaryTypeName","src":"1452:7:34","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1451:22:34"},"returnParameters":{"id":11615,"nodeType":"ParameterList","parameters":[],"src":"1496:0:34"},"scope":11937,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":11621,"nodeType":"ErrorDefinition","src":"1594:42:34","nodes":[],"errorSelector":"18f1571c","name":"OracleBadAnswer","nameLocation":"1600:15:34","parameters":{"id":11620,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11619,"mutability":"mutable","name":"aggregator","nameLocation":"1624:10:34","nodeType":"VariableDeclaration","scope":11621,"src":"1616:18:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11618,"name":"address","nodeType":"ElementaryTypeName","src":"1616:7:34","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1615:20:34"}},{"id":11625,"nodeType":"ErrorDefinition","src":"1670:37:34","nodes":[],"errorSelector":"4d27606c","name":"OracleQuoteZero","nameLocation":"1676:15:34","parameters":{"id":11624,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11623,"mutability":"mutable","name":"quote","nameLocation":"1700:5:34","nodeType":"VariableDeclaration","scope":11625,"src":"1692:13:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11622,"name":"address","nodeType":"ElementaryTypeName","src":"1692:7:34","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1691:15:34"}},{"id":11633,"nodeType":"StructDefinition","src":"2143:242:34","nodes":[],"canonicalName":"ChainlinkOracle.FeedUSD","documentation":{"id":11626,"nodeType":"StructuredDocumentation","src":"1762:376:34","text":"@notice token->USD 价源配置（单槽：20B + 1B + 11B = 32B）\n @param aggregator   Chainlink Aggregator 合约地址；为0表示无Feed，走 fixedUSDE18\n @param aggDecimals  （可选）缓存喂价小数位；为0表示运行时读取 aggregator.decimals()\n @param fixedUSDE18  固定USD价格（1e18表示1 USD）；仅 aggregator=0 时生效"},"members":[{"constant":false,"id":11628,"mutability":"mutable","name":"aggregator","nameLocation":"2176:10:34","nodeType":"VariableDeclaration","scope":11633,"src":"2168:18:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11627,"name":"address","nodeType":"ElementaryTypeName","src":"2168:7:34","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11630,"mutability":"mutable","name":"aggDecimals","nameLocation":"2218:11:34","nodeType":"VariableDeclaration","scope":11633,"src":"2210:19:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":11629,"name":"uint8","nodeType":"ElementaryTypeName","src":"2210:5:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":11632,"mutability":"mutable","name":"fixedUSDE18","nameLocation":"2300:11:34","nodeType":"VariableDeclaration","scope":11633,"src":"2292:19:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":11631,"name":"uint88","nodeType":"ElementaryTypeName","src":"2292:6:34","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"}],"name":"FeedUSD","nameLocation":"2150:7:34","scope":11937,"visibility":"public"},{"id":11639,"nodeType":"VariableDeclaration","src":"2466:43:34","nodes":[],"constant":false,"documentation":{"id":11634,"nodeType":"StructuredDocumentation","src":"2391:70:34","text":"@dev token => USD 价源映射（每个条目仅 1 个存储槽）"},"functionSelector":"14e4e525","mutability":"mutable","name":"usdFeeds","nameLocation":"2501:8:34","scope":11937,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FeedUSD_$11633_storage_$","typeString":"mapping(address => struct ChainlinkOracle.FeedUSD)"},"typeName":{"id":11638,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":11635,"name":"address","nodeType":"ElementaryTypeName","src":"2474:7:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"2466:27:34","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FeedUSD_$11633_storage_$","typeString":"mapping(address => struct ChainlinkOracle.FeedUSD)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":11637,"nodeType":"UserDefinedTypeName","pathNode":{"id":11636,"name":"FeedUSD","nameLocations":["2485:7:34"],"nodeType":"IdentifierPath","referencedDeclaration":11633,"src":"2485:7:34"},"referencedDeclaration":11633,"src":"2485:7:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_storage_ptr","typeString":"struct ChainlinkOracle.FeedUSD"}}},"visibility":"public"},{"id":11650,"nodeType":"EventDefinition","src":"2609:111:34","nodes":[],"anonymous":false,"documentation":{"id":11640,"nodeType":"StructuredDocumentation","src":"2516:88:34","text":"@notice 当某个 token 的 USD 价源被设置/更新时触发（运维可观测）"},"eventSelector":"151bf507c6e7ba739675ba2dec86516f0513d19e1a3e2f4f8b2f0597efe51cae","name":"USDFeedUpdated","nameLocation":"2615:14:34","parameters":{"id":11649,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11642,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"2646:5:34","nodeType":"VariableDeclaration","scope":11650,"src":"2630:21:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11641,"name":"address","nodeType":"ElementaryTypeName","src":"2630:7:34","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11644,"indexed":true,"mutability":"mutable","name":"aggregator","nameLocation":"2669:10:34","nodeType":"VariableDeclaration","scope":11650,"src":"2653:26:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11643,"name":"address","nodeType":"ElementaryTypeName","src":"2653:7:34","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11646,"indexed":false,"mutability":"mutable","name":"aggDecimals","nameLocation":"2687:11:34","nodeType":"VariableDeclaration","scope":11650,"src":"2681:17:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":11645,"name":"uint8","nodeType":"ElementaryTypeName","src":"2681:5:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":11648,"indexed":false,"mutability":"mutable","name":"fixedUSDE18","nameLocation":"2707:11:34","nodeType":"VariableDeclaration","scope":11650,"src":"2700:18:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"},"typeName":{"id":11647,"name":"uint88","nodeType":"ElementaryTypeName","src":"2700:6:34","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}},"visibility":"internal"}],"src":"2629:90:34"}},{"id":11678,"nodeType":"FunctionDefinition","src":"3160:200:34","nodes":[],"body":{"id":11677,"nodeType":"Block","src":"3236:124:34","nodes":[],"statements":[{"expression":{"id":11665,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":11661,"name":"usdFeeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11639,"src":"3246:8:34","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FeedUSD_$11633_storage_$","typeString":"mapping(address => struct ChainlinkOracle.FeedUSD storage ref)"}},"id":11663,"indexExpression":{"id":11662,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11653,"src":"3255:5:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3246:15:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_storage","typeString":"struct ChainlinkOracle.FeedUSD storage ref"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":11664,"name":"cfg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11656,"src":"3264:3:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_calldata_ptr","typeString":"struct ChainlinkOracle.FeedUSD calldata"}},"src":"3246:21:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_storage","typeString":"struct ChainlinkOracle.FeedUSD storage ref"}},"id":11666,"nodeType":"ExpressionStatement","src":"3246:21:34"},{"eventCall":{"arguments":[{"id":11668,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11653,"src":"3297:5:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":11669,"name":"cfg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11656,"src":"3304:3:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_calldata_ptr","typeString":"struct ChainlinkOracle.FeedUSD calldata"}},"id":11670,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3308:10:34","memberName":"aggregator","nodeType":"MemberAccess","referencedDeclaration":11628,"src":"3304:14:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":11671,"name":"cfg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11656,"src":"3320:3:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_calldata_ptr","typeString":"struct ChainlinkOracle.FeedUSD calldata"}},"id":11672,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3324:11:34","memberName":"aggDecimals","nodeType":"MemberAccess","referencedDeclaration":11630,"src":"3320:15:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},{"expression":{"id":11673,"name":"cfg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11656,"src":"3337:3:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_calldata_ptr","typeString":"struct ChainlinkOracle.FeedUSD calldata"}},"id":11674,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3341:11:34","memberName":"fixedUSDE18","nodeType":"MemberAccess","referencedDeclaration":11632,"src":"3337:15:34","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint8","typeString":"uint8"},{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":11667,"name":"USDFeedUpdated","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11650,"src":"3282:14:34","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint8_$_t_uint88_$returns$__$","typeString":"function (address,address,uint8,uint88)"}},"id":11675,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3282:71:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":11676,"nodeType":"EmitStatement","src":"3277:76:34"}]},"documentation":{"id":11651,"nodeType":"StructuredDocumentation","src":"2812:343:34","text":"@notice 设置/更新某 token 的 USD 价源\n @dev    - aggregator=0 表示“无Feed”，此时使用 fixedUSDE18 作为固定锚价；\n         - 建议：稳定币在测试网可配 fixed=1e18；主网上尽量使用真实喂价；\n         - 本函数一次只写 1 槽（单槽结构），初始化更省 gas。"},"functionSelector":"4dab6922","implemented":true,"kind":"function","modifiers":[{"id":11659,"kind":"modifierInvocation","modifierName":{"id":11658,"name":"onlyOwner","nameLocations":["3226:9:34"],"nodeType":"IdentifierPath","referencedDeclaration":438,"src":"3226:9:34"},"nodeType":"ModifierInvocation","src":"3226:9:34"}],"name":"setUSDFeed","nameLocation":"3169:10:34","parameters":{"id":11657,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11653,"mutability":"mutable","name":"token","nameLocation":"3188:5:34","nodeType":"VariableDeclaration","scope":11678,"src":"3180:13:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11652,"name":"address","nodeType":"ElementaryTypeName","src":"3180:7:34","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11656,"mutability":"mutable","name":"cfg","nameLocation":"3212:3:34","nodeType":"VariableDeclaration","scope":11678,"src":"3195:20:34","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_calldata_ptr","typeString":"struct ChainlinkOracle.FeedUSD"},"typeName":{"id":11655,"nodeType":"UserDefinedTypeName","pathNode":{"id":11654,"name":"FeedUSD","nameLocations":["3195:7:34"],"nodeType":"IdentifierPath","referencedDeclaration":11633,"src":"3195:7:34"},"referencedDeclaration":11633,"src":"3195:7:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_storage_ptr","typeString":"struct ChainlinkOracle.FeedUSD"}},"visibility":"internal"}],"src":"3179:37:34"},"returnParameters":{"id":11660,"nodeType":"ParameterList","parameters":[],"src":"3236:0:34"},"scope":11937,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":11796,"nodeType":"FunctionDefinition","src":"3463:1250:34","nodes":[],"body":{"id":11795,"nodeType":"Block","src":"3599:1114:34","nodes":[],"statements":[{"assignments":[11691],"declarations":[{"constant":false,"id":11691,"mutability":"mutable","name":"f","nameLocation":"3624:1:34","nodeType":"VariableDeclaration","scope":11795,"src":"3609:16:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_memory_ptr","typeString":"struct ChainlinkOracle.FeedUSD"},"typeName":{"id":11690,"nodeType":"UserDefinedTypeName","pathNode":{"id":11689,"name":"FeedUSD","nameLocations":["3609:7:34"],"nodeType":"IdentifierPath","referencedDeclaration":11633,"src":"3609:7:34"},"referencedDeclaration":11633,"src":"3609:7:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_storage_ptr","typeString":"struct ChainlinkOracle.FeedUSD"}},"visibility":"internal"}],"id":11695,"initialValue":{"baseExpression":{"id":11692,"name":"usdFeeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11639,"src":"3628:8:34","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FeedUSD_$11633_storage_$","typeString":"mapping(address => struct ChainlinkOracle.FeedUSD storage ref)"}},"id":11694,"indexExpression":{"id":11693,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11681,"src":"3637:5:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3628:15:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_storage","typeString":"struct ChainlinkOracle.FeedUSD storage ref"}},"nodeType":"VariableDeclarationStatement","src":"3609:34:34"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":11702,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":11696,"name":"f","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11691,"src":"3732:1:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_memory_ptr","typeString":"struct ChainlinkOracle.FeedUSD memory"}},"id":11697,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3734:10:34","memberName":"aggregator","nodeType":"MemberAccess","referencedDeclaration":11628,"src":"3732:12:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":11700,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3756:1:34","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":11699,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3748:7:34","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":11698,"name":"address","nodeType":"ElementaryTypeName","src":"3748:7:34","typeDescriptions":{}}},"id":11701,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3748:10:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3732:26:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11713,"nodeType":"IfStatement","src":"3728:281:34","trueBody":{"id":11712,"nodeType":"Block","src":"3760:249:34","statements":[{"expression":{"components":[{"arguments":[{"expression":{"id":11705,"name":"f","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11691,"src":"3966:1:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_memory_ptr","typeString":"struct ChainlinkOracle.FeedUSD memory"}},"id":11706,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3968:11:34","memberName":"fixedUSDE18","nodeType":"MemberAccess","referencedDeclaration":11632,"src":"3966:13:34","typeDescriptions":{"typeIdentifier":"t_uint88","typeString":"uint88"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint88","typeString":"uint88"}],"id":11704,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3958:7:34","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":11703,"name":"uint256","nodeType":"ElementaryTypeName","src":"3958:7:34","typeDescriptions":{}}},"id":11707,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3958:22:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":11708,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"3982:5:34","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":11709,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3988:9:34","memberName":"timestamp","nodeType":"MemberAccess","src":"3982:15:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":11710,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3957:41:34","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"functionReturnParameters":11688,"id":11711,"nodeType":"Return","src":"3950:48:34"}]}},{"assignments":[null,11715,null,11717,null],"declarations":[null,{"constant":false,"id":11715,"mutability":"mutable","name":"ans","nameLocation":"4104:3:34","nodeType":"VariableDeclaration","scope":11795,"src":"4097:10:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":11714,"name":"int256","nodeType":"ElementaryTypeName","src":"4097:6:34","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},null,{"constant":false,"id":11717,"mutability":"mutable","name":"ts","nameLocation":"4119:2:34","nodeType":"VariableDeclaration","scope":11795,"src":"4111:10:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11716,"name":"uint256","nodeType":"ElementaryTypeName","src":"4111:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},null],"id":11724,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"expression":{"id":11719,"name":"f","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11691,"src":"4149:1:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_memory_ptr","typeString":"struct ChainlinkOracle.FeedUSD memory"}},"id":11720,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4151:10:34","memberName":"aggregator","nodeType":"MemberAccess","referencedDeclaration":11628,"src":"4149:12:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":11718,"name":"AggregatorV3Interface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11603,"src":"4127:21:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AggregatorV3Interface_$11603_$","typeString":"type(contract AggregatorV3Interface)"}},"id":11721,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4127:35:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_AggregatorV3Interface_$11603","typeString":"contract AggregatorV3Interface"}},"id":11722,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4163:15:34","memberName":"latestRoundData","nodeType":"MemberAccess","referencedDeclaration":11597,"src":"4127:51:34","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint80_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint80_$","typeString":"function () view external returns (uint80,int256,uint256,uint256,uint80)"}},"id":11723,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4127:53:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint80_$_t_int256_$_t_uint256_$_t_uint256_$_t_uint80_$","typeString":"tuple(uint80,int256,uint256,uint256,uint80)"}},"nodeType":"VariableDeclarationStatement","src":"4094:86:34"},{"condition":{"commonType":{"typeIdentifier":"t_int256","typeString":"int256"},"id":11727,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11725,"name":"ans","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11715,"src":"4194:3:34","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"hexValue":"30","id":11726,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4201:1:34","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4194:8:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11733,"nodeType":"IfStatement","src":"4190:50:34","trueBody":{"errorCall":{"arguments":[{"expression":{"id":11729,"name":"f","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11691,"src":"4227:1:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_memory_ptr","typeString":"struct ChainlinkOracle.FeedUSD memory"}},"id":11730,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4229:10:34","memberName":"aggregator","nodeType":"MemberAccess","referencedDeclaration":11628,"src":"4227:12:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":11728,"name":"OracleBadAnswer","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11621,"src":"4211:15:34","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$_t_error_$","typeString":"function (address) pure returns (error)"}},"id":11731,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4211:29:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":11732,"nodeType":"RevertStatement","src":"4204:36:34"}},{"assignments":[11735],"declarations":[{"constant":false,"id":11735,"mutability":"mutable","name":"d","nameLocation":"4434:1:34","nodeType":"VariableDeclaration","scope":11795,"src":"4428:7:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":11734,"name":"uint8","nodeType":"ElementaryTypeName","src":"4428:5:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"}],"id":11749,"initialValue":{"condition":{"commonType":{"typeIdentifier":"t_uint8","typeString":"uint8"},"id":11739,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":11736,"name":"f","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11691,"src":"4438:1:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_memory_ptr","typeString":"struct ChainlinkOracle.FeedUSD memory"}},"id":11737,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4440:11:34","memberName":"aggDecimals","nodeType":"MemberAccess","referencedDeclaration":11630,"src":"4438:13:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":11738,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4455:1:34","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4438:18:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"expression":{"id":11746,"name":"f","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11691,"src":"4508:1:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_memory_ptr","typeString":"struct ChainlinkOracle.FeedUSD memory"}},"id":11747,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4510:11:34","memberName":"aggDecimals","nodeType":"MemberAccess","referencedDeclaration":11630,"src":"4508:13:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"id":11748,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"4438:83:34","trueExpression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"arguments":[{"expression":{"id":11741,"name":"f","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11691,"src":"4481:1:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_memory_ptr","typeString":"struct ChainlinkOracle.FeedUSD memory"}},"id":11742,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4483:10:34","memberName":"aggregator","nodeType":"MemberAccess","referencedDeclaration":11628,"src":"4481:12:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":11740,"name":"AggregatorV3Interface","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11603,"src":"4459:21:34","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_AggregatorV3Interface_$11603_$","typeString":"type(contract AggregatorV3Interface)"}},"id":11743,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4459:35:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_AggregatorV3Interface_$11603","typeString":"contract AggregatorV3Interface"}},"id":11744,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4495:8:34","memberName":"decimals","nodeType":"MemberAccess","referencedDeclaration":11602,"src":"4459:44:34","typeDescriptions":{"typeIdentifier":"t_function_external_view$__$returns$_t_uint8_$","typeString":"function () view external returns (uint8)"}},"id":11745,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4459:46:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"VariableDeclarationStatement","src":"4428:93:34"},{"assignments":[11751],"declarations":[{"constant":false,"id":11751,"mutability":"mutable","name":"u","nameLocation":"4540:1:34","nodeType":"VariableDeclaration","scope":11795,"src":"4532:9:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11750,"name":"uint256","nodeType":"ElementaryTypeName","src":"4532:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":11756,"initialValue":{"arguments":[{"id":11754,"name":"ans","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11715,"src":"4552:3:34","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int256","typeString":"int256"}],"id":11753,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4544:7:34","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":11752,"name":"uint256","nodeType":"ElementaryTypeName","src":"4544:7:34","typeDescriptions":{}}},"id":11755,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4544:12:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"4532:24:34"},{"condition":{"commonType":{"typeIdentifier":"t_uint8","typeString":"uint8"},"id":11759,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11757,"name":"d","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11735,"src":"4570:1:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"hexValue":"3138","id":11758,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4574:2:34","typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"src":"4570:6:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint8","typeString":"uint8"},"id":11773,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11771,"name":"d","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11735,"src":"4623:1:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"3138","id":11772,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4627:2:34","typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"src":"4623:6:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"expression":{"id":11787,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11785,"name":"pxE18","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11685,"src":"4672:5:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":11786,"name":"u","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11751,"src":"4680:1:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4672:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11788,"nodeType":"ExpressionStatement","src":"4672:9:34"},"id":11789,"nodeType":"IfStatement","src":"4619:62:34","trueBody":{"expression":{"id":11783,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11774,"name":"pxE18","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11685,"src":"4631:5:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11782,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11775,"name":"u","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11751,"src":"4639:1:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11781,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3130","id":11776,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4643:2:34","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint8","typeString":"uint8"},"id":11779,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11777,"name":"d","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11735,"src":"4650:1:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"3138","id":11778,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4654:2:34","typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"src":"4650:6:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}}],"id":11780,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4649:8:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"4643:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4639:18:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4631:26:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11784,"nodeType":"ExpressionStatement","src":"4631:26:34"}},"id":11790,"nodeType":"IfStatement","src":"4566:115:34","trueBody":{"expression":{"id":11769,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11760,"name":"pxE18","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11685,"src":"4578:5:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11768,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11761,"name":"u","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11751,"src":"4586:1:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11767,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3130","id":11762,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4590:2:34","typeDescriptions":{"typeIdentifier":"t_rational_10_by_1","typeString":"int_const 10"},"value":"10"},"nodeType":"BinaryOperation","operator":"**","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint8","typeString":"uint8"},"id":11765,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"hexValue":"3138","id":11763,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4597:2:34","typeDescriptions":{"typeIdentifier":"t_rational_18_by_1","typeString":"int_const 18"},"value":"18"},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":11764,"name":"d","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11735,"src":"4602:1:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"4597:6:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}}],"id":11766,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"4596:8:34","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"src":"4590:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4586:18:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4578:26:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11770,"nodeType":"ExpressionStatement","src":"4578:26:34"}},{"expression":{"id":11793,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11791,"name":"updatedAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11687,"src":"4692:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":11792,"name":"ts","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11717,"src":"4704:2:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4692:14:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11794,"nodeType":"ExpressionStatement","src":"4692:14:34"}]},"baseFunctions":[11526],"documentation":{"id":11679,"nodeType":"StructuredDocumentation","src":"3429:29:34","text":"@inheritdoc IOracleRouter"},"functionSelector":"8b2f0f4f","implemented":true,"kind":"function","modifiers":[],"name":"getUSDPrice","nameLocation":"3472:11:34","overrides":{"id":11683,"nodeType":"OverrideSpecifier","overrides":[],"src":"3535:8:34"},"parameters":{"id":11682,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11681,"mutability":"mutable","name":"token","nameLocation":"3492:5:34","nodeType":"VariableDeclaration","scope":11796,"src":"3484:13:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11680,"name":"address","nodeType":"ElementaryTypeName","src":"3484:7:34","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3483:15:34"},"returnParameters":{"id":11688,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11685,"mutability":"mutable","name":"pxE18","nameLocation":"3569:5:34","nodeType":"VariableDeclaration","scope":11796,"src":"3561:13:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11684,"name":"uint256","nodeType":"ElementaryTypeName","src":"3561:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":11687,"mutability":"mutable","name":"updatedAt","nameLocation":"3584:9:34","nodeType":"VariableDeclaration","scope":11796,"src":"3576:17:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11686,"name":"uint256","nodeType":"ElementaryTypeName","src":"3576:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3560:34:34"},"scope":11937,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":11936,"nodeType":"FunctionDefinition","src":"4753:1247:34","nodes":[],"body":{"id":11935,"nodeType":"Block","src":"4923:1077:34","nodes":[],"statements":[{"assignments":[11813,11815],"declarations":[{"constant":false,"id":11813,"mutability":"mutable","name":"bPx","nameLocation":"4980:3:34","nodeType":"VariableDeclaration","scope":11935,"src":"4972:11:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11812,"name":"uint256","nodeType":"ElementaryTypeName","src":"4972:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":11815,"mutability":"mutable","name":"bTs","nameLocation":"4993:3:34","nodeType":"VariableDeclaration","scope":11935,"src":"4985:11:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11814,"name":"uint256","nodeType":"ElementaryTypeName","src":"4985:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":11819,"initialValue":{"arguments":[{"id":11817,"name":"base","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11799,"src":"5012:4:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":11816,"name":"getUSDPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11796,"src":"5000:11:34","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$returns$_t_uint256_$_t_uint256_$","typeString":"function (address) view returns (uint256,uint256)"}},"id":11818,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5000:17:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"4971:46:34"},{"assignments":[11821,11823],"declarations":[{"constant":false,"id":11821,"mutability":"mutable","name":"qPx","nameLocation":"5036:3:34","nodeType":"VariableDeclaration","scope":11935,"src":"5028:11:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11820,"name":"uint256","nodeType":"ElementaryTypeName","src":"5028:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":11823,"mutability":"mutable","name":"qTs","nameLocation":"5049:3:34","nodeType":"VariableDeclaration","scope":11935,"src":"5041:11:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11822,"name":"uint256","nodeType":"ElementaryTypeName","src":"5041:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":11827,"initialValue":{"arguments":[{"id":11825,"name":"quote","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11801,"src":"5068:5:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":11824,"name":"getUSDPrice","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11796,"src":"5056:11:34","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$returns$_t_uint256_$_t_uint256_$","typeString":"function (address) view returns (uint256,uint256)"}},"id":11826,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5056:18:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"5027:47:34"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11830,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11828,"name":"qPx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11821,"src":"5140:3:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":11829,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5147:1:34","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5140:8:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":11835,"nodeType":"IfStatement","src":"5136:43:34","trueBody":{"errorCall":{"arguments":[{"id":11832,"name":"quote","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11801,"src":"5173:5:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":11831,"name":"OracleQuoteZero","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11625,"src":"5157:15:34","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_address_$returns$_t_error_$","typeString":"function (address) pure returns (error)"}},"id":11833,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5157:22:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":11834,"nodeType":"RevertStatement","src":"5150:29:34"}},{"expression":{"id":11843,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11836,"name":"priceE18","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11805,"src":"5189:8:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11842,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11839,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11837,"name":"bPx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11813,"src":"5201:3:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"31653138","id":11838,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5207:4:34","typeDescriptions":{"typeIdentifier":"t_rational_1000000000000000000_by_1","typeString":"int_const 1000000000000000000"},"value":"1e18"},"src":"5201:10:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":11840,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5200:12:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"id":11841,"name":"qPx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11821,"src":"5215:3:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5200:18:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5189:29:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11844,"nodeType":"ExpressionStatement","src":"5189:29:34"},{"assignments":[11847],"declarations":[{"constant":false,"id":11847,"mutability":"mutable","name":"bf","nameLocation":"5317:2:34","nodeType":"VariableDeclaration","scope":11935,"src":"5302:17:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_memory_ptr","typeString":"struct ChainlinkOracle.FeedUSD"},"typeName":{"id":11846,"nodeType":"UserDefinedTypeName","pathNode":{"id":11845,"name":"FeedUSD","nameLocations":["5302:7:34"],"nodeType":"IdentifierPath","referencedDeclaration":11633,"src":"5302:7:34"},"referencedDeclaration":11633,"src":"5302:7:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_storage_ptr","typeString":"struct ChainlinkOracle.FeedUSD"}},"visibility":"internal"}],"id":11851,"initialValue":{"baseExpression":{"id":11848,"name":"usdFeeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11639,"src":"5322:8:34","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FeedUSD_$11633_storage_$","typeString":"mapping(address => struct ChainlinkOracle.FeedUSD storage ref)"}},"id":11850,"indexExpression":{"id":11849,"name":"base","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11799,"src":"5331:4:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5322:14:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_storage","typeString":"struct ChainlinkOracle.FeedUSD storage ref"}},"nodeType":"VariableDeclarationStatement","src":"5302:34:34"},{"assignments":[11854],"declarations":[{"constant":false,"id":11854,"mutability":"mutable","name":"qf","nameLocation":"5361:2:34","nodeType":"VariableDeclaration","scope":11935,"src":"5346:17:34","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_memory_ptr","typeString":"struct ChainlinkOracle.FeedUSD"},"typeName":{"id":11853,"nodeType":"UserDefinedTypeName","pathNode":{"id":11852,"name":"FeedUSD","nameLocations":["5346:7:34"],"nodeType":"IdentifierPath","referencedDeclaration":11633,"src":"5346:7:34"},"referencedDeclaration":11633,"src":"5346:7:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_storage_ptr","typeString":"struct ChainlinkOracle.FeedUSD"}},"visibility":"internal"}],"id":11858,"initialValue":{"baseExpression":{"id":11855,"name":"usdFeeds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11639,"src":"5366:8:34","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FeedUSD_$11633_storage_$","typeString":"mapping(address => struct ChainlinkOracle.FeedUSD storage ref)"}},"id":11857,"indexExpression":{"id":11856,"name":"quote","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11801,"src":"5375:5:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5366:15:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_storage","typeString":"struct ChainlinkOracle.FeedUSD storage ref"}},"nodeType":"VariableDeclarationStatement","src":"5346:35:34"},{"assignments":[11860],"declarations":[{"constant":false,"id":11860,"mutability":"mutable","name":"bFixed","nameLocation":"5396:6:34","nodeType":"VariableDeclaration","scope":11935,"src":"5391:11:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":11859,"name":"bool","nodeType":"ElementaryTypeName","src":"5391:4:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":11869,"initialValue":{"components":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":11867,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":11861,"name":"bf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11847,"src":"5406:2:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_memory_ptr","typeString":"struct ChainlinkOracle.FeedUSD memory"}},"id":11862,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5409:10:34","memberName":"aggregator","nodeType":"MemberAccess","referencedDeclaration":11628,"src":"5406:13:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":11865,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5431:1:34","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":11864,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5423:7:34","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":11863,"name":"address","nodeType":"ElementaryTypeName","src":"5423:7:34","typeDescriptions":{}}},"id":11866,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5423:10:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5406:27:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":11868,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5405:29:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"5391:43:34"},{"assignments":[11871],"declarations":[{"constant":false,"id":11871,"mutability":"mutable","name":"qFixed","nameLocation":"5449:6:34","nodeType":"VariableDeclaration","scope":11935,"src":"5444:11:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":11870,"name":"bool","nodeType":"ElementaryTypeName","src":"5444:4:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":11880,"initialValue":{"components":[{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":11878,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":11872,"name":"qf","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11854,"src":"5459:2:34","typeDescriptions":{"typeIdentifier":"t_struct$_FeedUSD_$11633_memory_ptr","typeString":"struct ChainlinkOracle.FeedUSD memory"}},"id":11873,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5462:10:34","memberName":"aggregator","nodeType":"MemberAccess","referencedDeclaration":11628,"src":"5459:13:34","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":11876,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5484:1:34","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":11875,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5476:7:34","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":11874,"name":"address","nodeType":"ElementaryTypeName","src":"5476:7:34","typeDescriptions":{}}},"id":11877,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5476:10:34","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5459:27:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":11879,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"5458:29:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"5444:43:34"},{"condition":{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":11883,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11881,"name":"bFixed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11860,"src":"5502:6:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"id":11882,"name":"qFixed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11871,"src":"5512:6:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"5502:16:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"id":11895,"name":"bFixed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11860,"src":"5673:6:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"id":11906,"name":"qFixed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11871,"src":"5810:6:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":11931,"nodeType":"Block","src":"5898:96:34","statements":[{"expression":{"id":11920,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11917,"name":"src","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11810,"src":"5912:3:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":11918,"name":"PriceSrc","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11501,"src":"5918:8:34","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_PriceSrc_$11501_$","typeString":"type(enum IOracleRouter.PriceSrc)"}},"id":11919,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5927:8:34","memberName":"UsdSplit","nodeType":"MemberAccess","referencedDeclaration":11499,"src":"5918:17:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"src":"5912:23:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"id":11921,"nodeType":"ExpressionStatement","src":"5912:23:34"},{"expression":{"id":11929,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11922,"name":"updatedAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11807,"src":"5949:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":11925,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":11923,"name":"bTs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11815,"src":"5961:3:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":11924,"name":"qTs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11823,"src":"5967:3:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5961:9:34","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":11927,"name":"qTs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11823,"src":"5979:3:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11928,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"5961:21:34","trueExpression":{"id":11926,"name":"bTs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11815,"src":"5973:3:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5949:33:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11930,"nodeType":"ExpressionStatement","src":"5949:33:34"}]},"id":11932,"nodeType":"IfStatement","src":"5806:188:34","trueBody":{"id":11916,"nodeType":"Block","src":"5818:74:34","statements":[{"expression":{"id":11910,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11907,"name":"src","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11810,"src":"5832:3:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":11908,"name":"PriceSrc","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11501,"src":"5838:8:34","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_PriceSrc_$11501_$","typeString":"type(enum IOracleRouter.PriceSrc)"}},"id":11909,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5847:5:34","memberName":"Fixed","nodeType":"MemberAccess","referencedDeclaration":11500,"src":"5838:14:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"src":"5832:20:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"id":11911,"nodeType":"ExpressionStatement","src":"5832:20:34"},{"expression":{"id":11914,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11912,"name":"updatedAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11807,"src":"5866:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":11913,"name":"bTs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11815,"src":"5878:3:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5866:15:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11915,"nodeType":"ExpressionStatement","src":"5866:15:34"}]}},"id":11933,"nodeType":"IfStatement","src":"5669:325:34","trueBody":{"id":11905,"nodeType":"Block","src":"5681:119:34","statements":[{"expression":{"id":11899,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11896,"name":"src","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11810,"src":"5695:3:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":11897,"name":"PriceSrc","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11501,"src":"5701:8:34","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_PriceSrc_$11501_$","typeString":"type(enum IOracleRouter.PriceSrc)"}},"id":11898,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5710:5:34","memberName":"Fixed","nodeType":"MemberAccess","referencedDeclaration":11500,"src":"5701:14:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"src":"5695:20:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"id":11900,"nodeType":"ExpressionStatement","src":"5695:20:34"},{"expression":{"id":11903,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11901,"name":"updatedAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11807,"src":"5729:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":11902,"name":"qTs","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11823,"src":"5741:3:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5729:15:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11904,"nodeType":"ExpressionStatement","src":"5729:15:34"}]}},"id":11934,"nodeType":"IfStatement","src":"5498:496:34","trueBody":{"id":11894,"nodeType":"Block","src":"5520:143:34","statements":[{"expression":{"id":11887,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11884,"name":"src","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11810,"src":"5534:3:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":11885,"name":"PriceSrc","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11501,"src":"5540:8:34","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_PriceSrc_$11501_$","typeString":"type(enum IOracleRouter.PriceSrc)"}},"id":11886,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"5549:5:34","memberName":"Fixed","nodeType":"MemberAccess","referencedDeclaration":11500,"src":"5540:14:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"src":"5534:20:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"id":11888,"nodeType":"ExpressionStatement","src":"5534:20:34"},{"expression":{"id":11892,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":11889,"name":"updatedAt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":11807,"src":"5568:9:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":11890,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"5580:5:34","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":11891,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5586:9:34","memberName":"timestamp","nodeType":"MemberAccess","src":"5580:15:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5568:27:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":11893,"nodeType":"ExpressionStatement","src":"5568:27:34"}]}}]},"baseFunctions":[11516],"documentation":{"id":11797,"nodeType":"StructuredDocumentation","src":"4719:29:34","text":"@inheritdoc IOracleRouter"},"functionSelector":"d4c282a3","implemented":true,"kind":"function","modifiers":[],"name":"latestAnswer","nameLocation":"4762:12:34","overrides":{"id":11803,"nodeType":"OverrideSpecifier","overrides":[],"src":"4842:8:34"},"parameters":{"id":11802,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11799,"mutability":"mutable","name":"base","nameLocation":"4783:4:34","nodeType":"VariableDeclaration","scope":11936,"src":"4775:12:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11798,"name":"address","nodeType":"ElementaryTypeName","src":"4775:7:34","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":11801,"mutability":"mutable","name":"quote","nameLocation":"4797:5:34","nodeType":"VariableDeclaration","scope":11936,"src":"4789:13:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11800,"name":"address","nodeType":"ElementaryTypeName","src":"4789:7:34","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4774:29:34"},"returnParameters":{"id":11811,"nodeType":"ParameterList","parameters":[{"constant":false,"id":11805,"mutability":"mutable","name":"priceE18","nameLocation":"4876:8:34","nodeType":"VariableDeclaration","scope":11936,"src":"4868:16:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11804,"name":"uint256","nodeType":"ElementaryTypeName","src":"4868:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":11807,"mutability":"mutable","name":"updatedAt","nameLocation":"4894:9:34","nodeType":"VariableDeclaration","scope":11936,"src":"4886:17:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":11806,"name":"uint256","nodeType":"ElementaryTypeName","src":"4886:7:34","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":11810,"mutability":"mutable","name":"src","nameLocation":"4914:3:34","nodeType":"VariableDeclaration","scope":11936,"src":"4905:12:34","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"},"typeName":{"id":11809,"nodeType":"UserDefinedTypeName","pathNode":{"id":11808,"name":"PriceSrc","nameLocations":["4905:8:34"],"nodeType":"IdentifierPath","referencedDeclaration":11501,"src":"4905:8:34"},"referencedDeclaration":11501,"src":"4905:8:34","typeDescriptions":{"typeIdentifier":"t_enum$_PriceSrc_$11501","typeString":"enum IOracleRouter.PriceSrc"}},"visibility":"internal"}],"src":"4867:51:34"},"scope":11937,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":11605,"name":"IOracleRouter","nameLocations":["1405:13:34"],"nodeType":"IdentifierPath","referencedDeclaration":11527,"src":"1405:13:34"},"id":11606,"nodeType":"InheritanceSpecifier","src":"1405:13:34"},{"baseName":{"id":11607,"name":"Ownable2Step","nameLocations":["1420:12:34"],"nodeType":"IdentifierPath","referencedDeclaration":613,"src":"1420:12:34"},"id":11608,"nodeType":"InheritanceSpecifier","src":"1420:12:34"}],"canonicalName":"ChainlinkOracle","contractDependencies":[],"contractKind":"contract","documentation":{"id":11604,"nodeType":"StructuredDocumentation","src":"682:695:34","text":"@title ChainlinkOracle\n @notice IOracleRouter 的实现：\n         - 以“token→USD”为基准；无直连 base/quote 时用 USD 拆分（base/USD ÷ quote/USD）；\n         - 无喂价允许配置固定锚价（Fixed），常用于测试网；\n         - 统一输出 1e18 精度；stale 判定交由 Guard（全局/按 pair 阈值）处理。\n @dev    Gas优化：\n         - FeedUSD 单槽布局（address + uint8 + uint88），初始化/配置 SSTORE 开销显著降低；\n         - 采用自定义错误，减少运行时代码；\n         - `aggDecimals` 作为可选缓存：非 0 则使用；为 0 时回退链上 `decimals()`（view，不上链）。"},"fullyImplemented":true,"linearizedBaseContracts":[11937,613,527,1978,11527],"name":"ChainlinkOracle","nameLocation":"1386:15:34","scope":11938,"usedErrors":[393,398,11621,11625],"usedEvents":[404,542,11650]}],"license":"MIT"},"id":34}